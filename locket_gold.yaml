# Karing Configuration for Locket Gold Module (Converted from Shadowrocket .sgmodule)
# Note: Karing supports full Clash config, so this should work for routing and basic sniffing.
# For script/rewrite, test if Karing enables it; if not, modify may not apply.

mixed-port: 7890
allow-lan: true
mode: rule
log-level: info
ipv6: true

# DNS settings
dns:
  enable: true
  listen: 0.0.0.0:1053
  fake-ip-range: 198.18.0.1/16  # For fake-ip mode if needed

# Sniffing for domain detection
sniffer:
  enable: true
  sniffing:
    - tls
    - http
  force-domain:
    - api.revenuecat.com

# HTTP engine for scripts (if supported in Karing; otherwise, ignore this section)
http:
  script:
    - match: ^https://api\.revenuecat\.com/.+/(receipts$|subscribers/[^/]+$)
      name: revenuecat
      type: response
    - match: ^https://api\.revenuecat\.com/.+/(receipts|subscribers)
      name: deleteHeader
      type: request

  script-providers:
    revenuecat:
      url: https://raw.githubusercontent.com/quocchienn/lockcrack/refs/heads/module/Locket_Gold.js
      interval: 86400
    deleteHeader:
      url: https://raw.githubusercontent.com/quocchienn/lockcrack/refs/heads/module/deleteheader.js
      interval: 86400

# Proxies, groups, rules (minimal; add your own proxies if needed)
proxies: []
proxy-groups: []
rules:
  - DOMAIN,api.revenuecat.com,DIRECT  # Or route to a proxy if MITM needed

# Additional Karing-specific: Enable fake-ip or TUN if required in app settings.
